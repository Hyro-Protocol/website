/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  combineCodec,
  getBooleanDecoder,
  getBooleanEncoder,
  getStructDecoder,
  getStructEncoder,
  type FixedSizeCodec,
  type FixedSizeDecoder,
  type FixedSizeEncoder,
} from "@solana/kit";
import {
  getFractionConfigDecoder,
  getFractionConfigEncoder,
  getTimeBasedConfigDecoder,
  getTimeBasedConfigEncoder,
  type FractionConfig,
  type FractionConfigArgs,
  type TimeBasedConfig,
  type TimeBasedConfigArgs,
} from ".";

/** Combined fee configuration */
export type AllInOneConfig = {
  /** Percentage-based fees (applied on operations like deposit/withdraw) */
  fraction: FractionConfig;
  /** Time-based fees (applied periodically) */
  timeBased: TimeBasedConfig;
  /** Whether to apply fraction fees on deposits */
  chargeOnDeposit: boolean;
  /** Whether to apply fraction fees on withdrawals */
  chargeOnWithdraw: boolean;
  /** Whether to apply fraction fees on use_funds */
  chargeOnUseFunds: boolean;
  /** Whether to apply fraction fees on return_funds */
  chargeOnReturnFunds: boolean;
};

export type AllInOneConfigArgs = {
  /** Percentage-based fees (applied on operations like deposit/withdraw) */
  fraction: FractionConfigArgs;
  /** Time-based fees (applied periodically) */
  timeBased: TimeBasedConfigArgs;
  /** Whether to apply fraction fees on deposits */
  chargeOnDeposit: boolean;
  /** Whether to apply fraction fees on withdrawals */
  chargeOnWithdraw: boolean;
  /** Whether to apply fraction fees on use_funds */
  chargeOnUseFunds: boolean;
  /** Whether to apply fraction fees on return_funds */
  chargeOnReturnFunds: boolean;
};

export function getAllInOneConfigEncoder(): FixedSizeEncoder<AllInOneConfigArgs> {
  return getStructEncoder([
    ["fraction", getFractionConfigEncoder()],
    ["timeBased", getTimeBasedConfigEncoder()],
    ["chargeOnDeposit", getBooleanEncoder()],
    ["chargeOnWithdraw", getBooleanEncoder()],
    ["chargeOnUseFunds", getBooleanEncoder()],
    ["chargeOnReturnFunds", getBooleanEncoder()],
  ]);
}

export function getAllInOneConfigDecoder(): FixedSizeDecoder<AllInOneConfig> {
  return getStructDecoder([
    ["fraction", getFractionConfigDecoder()],
    ["timeBased", getTimeBasedConfigDecoder()],
    ["chargeOnDeposit", getBooleanDecoder()],
    ["chargeOnWithdraw", getBooleanDecoder()],
    ["chargeOnUseFunds", getBooleanDecoder()],
    ["chargeOnReturnFunds", getBooleanDecoder()],
  ]);
}

export function getAllInOneConfigCodec(): FixedSizeCodec<
  AllInOneConfigArgs,
  AllInOneConfig
> {
  return combineCodec(getAllInOneConfigEncoder(), getAllInOneConfigDecoder());
}
